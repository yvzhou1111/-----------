# 用户用水识别系统实现方案

## 1. 系统概述

基于水表厂家推送的实时数据，设计一个完整的用户用水行为识别系统。该系统采用 Streamlit 框架实现前后端一体化开发，具备数据接收、存储、分析、可视化和异常报警等功能，帮助用户识别日常用水行为，监控用水异常。

## 2. 系统架构设计

### 2.1 整体架构

系统采用前后端一体化设计，主要由以下几个模块组成：

1. **数据接入模块**：接收水表厂家通过HTTP POST推送的数据，存储到数据库中
2. **数据处理模块**：对原始数据进行清洗、转换、计算累计流量差值等处理
3. **用水行为识别模块**：基于流量变化特征识别不同用水行为（冲洗用水、桶箱用水、零星用水）
4. **数据可视化模块**：展示跟 enhanced_plot_cn.py 逻辑一摸一样的可视化图片  日用水行为曲线图，计入其他有用的可视化信息、统计信息等
5. **异常报警模块**：监测并报警异常用水行为
6. **历史查询模块**：支持按日期、时间范围查询历史用水行为  把目前已有的1757125983314设备历史数据数据.csv  watermeter data1.csv均当历史数据处理  目前的项目已经能正确处理需要的逻辑  跟着他就可以
7. **数据上传分析功能**：跟前面同样的逻辑分析画图展现出用水行为识别,支持CSV和excel文件上传。
8. **支持手动导出和删除推送的数据**：支持用户手动导出所有数据为 CSV或excel 文件，支持用户删除指定日期范围的数据。
9. **运行项目以后在终端和需要展示的页面直接显示本设备的数据接受地址方便外部设备直接推送数据**：
9. 支持接入新的水表设备
10. **支持现代化页面**：
11. **项目启动的时候接口地址等都一起启动**：


### 2.2 技术选型

- **开发框架**：Streamlit（前后端一体化开发）

